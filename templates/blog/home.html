{% extends "layout.html" %}

{% block title %}Blog{% endblock %}

{% block content %}
<h1>Blog</h1>
<a href="{{ url_for('new_post') }}">New Post</a>

<ul>
    {% for post in posts %}
    <li>
        <h2>{{ post.title }}</h2>
        <p>{{ post.content }}</p>
        <small>Posted on {{ post.date }}</small>
        <a href="{{ url_for('post_detail', post_id=post.id) }}">Read More</a>
        <a href="{{ url_for('edit_post', post_id=post.id) }}">Edit</a>
        <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST" style="display:inline;">
            <button type="submit">Delete</button>
        </form>
    </li>
    {% endfor %}
</ul>

{% if page > 1 %}
<a href="{{ url_for('home', page=page-1) }}">Previous</a>
{% endif %}

{% if page < total_pages %}
<a href="{{ url_for('home', page=page+1) }}">Next</a>
{% endif %}
{% endblock %}
